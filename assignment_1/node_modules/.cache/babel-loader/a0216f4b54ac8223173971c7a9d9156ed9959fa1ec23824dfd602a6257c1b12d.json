{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useFormValidation.js\nimport { useState, useCallback, useMemo } from 'react';\nimport { validateFormField, validateEntireForm } from '../utils/validators';\n\n/**\n * Custom hook for managing form state and validation\n * Follows Single Responsibility Principle - handles only form logic\n */\nconst useFormValidation = (initialState, onSubmit) => {\n  _s();\n  const [formData, setFormData] = useState(initialState);\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  // Memoized validation results for performance\n  const validationErrors = useMemo(() => {\n    return validateEntireForm(formData);\n  }, [formData]);\n  const isFormValid = useMemo(() => {\n    return Object.keys(validationErrors).length === 0;\n  }, [validationErrors]);\n  const handleInputChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error when user corrects the field\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  }, [errors]);\n  const handleBlur = useCallback(e => {\n    const {\n      name\n    } = e.target;\n    setTouched(prev => ({\n      ...prev,\n      [name]: true\n    }));\n\n    // Validate individual field\n    const fieldError = validateFormField(name, formData[name], formData);\n    setErrors(prev => ({\n      ...prev,\n      [name]: fieldError\n    }));\n  }, [formData]);\n  const handleSubmit = useCallback(e => {\n    e.preventDefault();\n\n    // Validate entire form\n    const newErrors = validateEntireForm(formData);\n    setErrors(newErrors);\n    if (Object.keys(newErrors).length === 0) {\n      onSubmit(formData);\n    }\n  }, [formData, onSubmit]);\n  const resetForm = useCallback(() => {\n    setFormData(initialState);\n    setErrors({});\n    setTouched({});\n  }, [initialState]);\n  return {\n    formData,\n    setFormData,\n    errors,\n    setErrors,\n    touched,\n    handleInputChange,\n    handleBlur,\n    handleSubmit,\n    isFormValid,\n    resetForm\n  };\n};\n_s(useFormValidation, \"eWVliRCUKd0oZ9hGU2amFdgX3rk=\");\nexport default useFormValidation;","map":{"version":3,"names":["useState","useCallback","useMemo","validateFormField","validateEntireForm","useFormValidation","initialState","onSubmit","_s","formData","setFormData","errors","setErrors","touched","setTouched","validationErrors","isFormValid","Object","keys","length","handleInputChange","e","name","value","target","prev","handleBlur","fieldError","handleSubmit","preventDefault","newErrors","resetForm"],"sources":["/workspaces/Upzenix/assignment_1/src/hooks/useFormValidation.js"],"sourcesContent":["// src/hooks/useFormValidation.js\nimport { useState, useCallback, useMemo } from 'react';\nimport { validateFormField, validateEntireForm } from '../utils/validators';\n\n/**\n * Custom hook for managing form state and validation\n * Follows Single Responsibility Principle - handles only form logic\n */\nconst useFormValidation = (initialState, onSubmit) => {\n  const [formData, setFormData] = useState(initialState);\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  // Memoized validation results for performance\n  const validationErrors = useMemo(() => {\n    return validateEntireForm(formData);\n  }, [formData]);\n\n  const isFormValid = useMemo(() => {\n    return Object.keys(validationErrors).length === 0;\n  }, [validationErrors]);\n\n  const handleInputChange = useCallback(\n    (e) => {\n      const { name, value } = e.target;\n      setFormData((prev) => ({\n        ...prev,\n        [name]: value,\n      }));\n\n      // Clear error when user corrects the field\n      if (errors[name]) {\n        setErrors((prev) => ({\n          ...prev,\n          [name]: '',\n        }));\n      }\n    },\n    [errors]\n  );\n\n  const handleBlur = useCallback((e) => {\n    const { name } = e.target;\n    setTouched((prev) => ({\n      ...prev,\n      [name]: true,\n    }));\n\n    // Validate individual field\n    const fieldError = validateFormField(name, formData[name], formData);\n    setErrors((prev) => ({\n      ...prev,\n      [name]: fieldError,\n    }));\n  }, [formData]);\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n\n      // Validate entire form\n      const newErrors = validateEntireForm(formData);\n      setErrors(newErrors);\n\n      if (Object.keys(newErrors).length === 0) {\n        onSubmit(formData);\n      }\n    },\n    [formData, onSubmit]\n  );\n\n  const resetForm = useCallback(() => {\n    setFormData(initialState);\n    setErrors({});\n    setTouched({});\n  }, [initialState]);\n\n  return {\n    formData,\n    setFormData,\n    errors,\n    setErrors,\n    touched,\n    handleInputChange,\n    handleBlur,\n    handleSubmit,\n    isFormValid,\n    resetForm,\n  };\n};\n\nexport default useFormValidation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}